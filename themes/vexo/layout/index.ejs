<main class="app-body" style="background-color: #fff">
  <% page.posts.each(function(post) { %>
    <% if (post.sub != true) { %>
      <article class="article-card">
        <h2 class="article-head">
          <a href="<%- url_for(post.path) %>" target="_blank"><%- post.title %></a>
        </h2>
        <p class="article-date">
          <%- date(post.date, "LL") %>
          <% if (post.author && post.author !== "m1") { %>
            By <%- post.author %>
          <% } else if (post.author == "m1") { %>
            By StarunneR
          <% } %>
        </p>
        <% if (post.tags && post.tags.length) { %>
        <%- partial('_partial/tag', { tags: post.tags }) %>
        <% } %>
    
        <div class="article-summary">
          <% if (post.main) { %>
            <%- post.main %>
          <% } else if (post.excerpt) { %>
            <%- post.excerpt %>
          <% } else { %>
            <%- truncate((post.more), {byWords: true, length: 30, omission: '...' }) %>
          <!-- 此处使用的hexo-html-truncate v1.0.0似乎处理时不会区分</等特殊符号，但输出结果会包含-->
          <% } %>
        </div>
        <a class="more" href="<%- url_for(post.path) %>" target="_blank"><%- theme.excerpt_link %></a>
      </article>
    <% } else { %>
      <article class="article-card">
        <h2 class="article-head">
          <a href="<%- url_for(post.path) %>" target="_blank"><%- post.title %></a>
        </h2>
        <p class="article-date">
          <%- date(post.date, "LL") %>
          By <%- post.author %>
        </p>
        <a class="more" href="<%- url_for(post.path) %>" target="_blank"><%- theme.excerpt_link %></a>
      </article>
    <% } %>
  <% }); %>

  <% if (page.total > 1){ %>
    <%- partial('_partial/pager') %>
  <% } %>
</main>



