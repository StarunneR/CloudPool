<script>
  function getYiju() {
    fetch("https://v1.hitokoto.cn")
      .then((response) => response.json())
      .then((data) => {
        const hitokoto = document.getElementById("hitokoto_text");
        hitokoto.href = "https://hitokoto.cn/?uuid=" + data.uuid;
        hitokoto.innerText = data.hitokoto;
        const from = document.getElementById("hitokoto_from");
        from.innerText = data.from;
        if (data.from_who != data.from) {
          const author = document.getElementById("hitokoto_author");
          author.innerText = data.from_who;
        } else {
          const author = document.getElementById("hitokoto_author");
          author.innerText = [];
        }
      })
      .catch(console.error);
  }
  getYiju();
</script>

<script type="text/javascript">
  function copy() {
    // Text Element: id="hijikoyo"
    let text = document.getElementById("hitokoto").innerText
    const input = document.createElement('textarea');
    document.body.appendChild(input);
    input.innerHTML = text;
    input.setAttribute('create',1);
    input.select();
    document.execCommand("copy");
    var list=document.getElementsByTagName('textarea')
    var inputList = Array.prototype.slice.call(list)
    inputList.forEach((item)=>{
      if(item.getAttribute('create'))document.body.removeChild(item);
    });
    //Focus Textarea
    const wl_textarea = document.getElementById("wl-edit");
    wl_textarea.select();
  }
</script>