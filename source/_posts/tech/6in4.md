---
title: 使用6in4隧道的IPv6开启教程
author: m1
date: 2022-05-15
date2: 2022-04-14
date1: 2019-06-22
tags:
categories:
main: IPv6的一种实现方式
---

    写在前面：
    1.IPv6的全称是Internet Protocol version 6（互联网协议第6版）。开启IPv6对于用户的好处主要是更加安全，访问互联网时异常广告可能减少，访问数据更加难被监控，并且访问部分专业网站可能有一定的网络提速效果
    2.本教程需要一个支持6in4隧道功能的路由器（ASUS华硕路由器/Padavan固件路由器/OpenWrt固件路由器等）

## 第一步：获得公网IP

1. 查看路由器内显示的 IPv4 地址 是否与百度 "ip" 得到的 ip地址 相同，若相同，则已有公网 IP，跳过第二步（已有公网ip）

2. 申请公网 IP：电信网络打 10000 /移动网络拨打 10086 /联通网络拨打 10010，转人工，要求公网ip。理由：家中装监控/游戏（如Minecraft）开服务器

## 第二步：申请Hurricane Electric运营的 6in4 隧道

1. 6in4隧道服务器测速

运行 [pinginfoview.exe](PingInfoView2.2.5.zip)，测速至少1-2小时，找到失败率低（重要）、延迟（ping时间）较低的服务器IP地址

2. 设置 6in4 隧道

a.打开 [Tunnel Broker](https://tunnelbroker.net/)，注册账号
b.在网页左侧点击Create New Tunnel, 填写 公网ip地址 (可百度'ip'查看); 选择第1步中找到的6in4服务器
c.打开路由器设置页面，打开高级设置-IPv6/高级设置-外部网络-IPv6设置，服务器设置为 www.tunnelbroker.net ，对应设置填写关系：[1]，确定保存
d.路由器重启后，回到 Tunnel Details，更新 IP 地址（如有变化）

    [1]: 路由器设置----tunnelbroker.net：
    服务器ipv4地址/6in4远程端点/WAN IPv4地址----Server IPv4 Address
    服务器ipv6地址/IPv6 外网默认网关/WAN IPv6默认网关----Server IPv6 Address    *除尾端'/64'
    客户端ipv6地址/IPv6 外网地址/WAN IPv6地址----Client IPv6 Address    *除尾端'/64'
    内网IPv6前缀/IPv6 内网地址/LAN IPv6地址----Routed /64

    其他说明：1.IP地址尾部的/**为地址长度规定，路由器设置填写时若需要填写前缀长度则填写对应数字
             2.IPv6 DNS可填写：2001:470:20::2   2001:4860:4860::8888    2001:4860:4860::8844
             3.若有MTU、TTL项保持默认或填写1480、255

* 完成后可打开[Test-IPv6](https://test-ipv6.com)或[IPv6-test](https://ipv6-test.com/)测试
* 公网ip地址可能会不定期更换，请在隧道无法使用时及时更换，或使用DDNS功能自动更新ip地址

3. 使用DDNS自动更新IP地址（可选）

路由器打开DDNS功能，服务器选择www.tunnelbroker.net，对应设置填写关系：[2]

    [2]: 路由器设置----tunnelbroker.net：
    主机名称----IPv6 Tunnel-Tunnel ID
    用户名/邮箱地址/密码----Account Name/Username（登陆时使用的用户名或邮箱或Example Update URL中头部名称）
    密码或 DDNS 密钥/DDNS 密码----Advanced-Update Key




